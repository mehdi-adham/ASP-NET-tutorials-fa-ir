# با روش Entity Framework 6 Code First با استفاده از MVC 5

## ایجاد  یک برنامه MVC web

<div style="direction :rtl;">
## Entity Framework 6 را نصب کنید
</div>

## تنظیم استایل سایت

## ایجاد data model

**نکته**
اگر سعی کنید قبل از ایجاد تمام این کلاس‌های موجود، پروژه را کامپایل کنید، با خطاهای کامپایلر مواجه خواهید شد.


## موجودیت دانشجو

## موجودیت ثبت نام

## موجودیت دوره

## ایجاد کانتکست دیتابیس

## مشخص کردن مجموعه های موجودیت

این کد برای هر مجموعه موجودیت یک ویژگی DbSet ایجاد می کند. در اصطلاحات Entity Framework، یک مجموعه موجودیت معمولاً با یک جدول پایگاه داده و یک موجودیت مربوط به یک ردیف در جدول است.

**نکته**
می توانید دستورات D`bSet<Enrollment>` و `DbSet<Course>` را حذف کنید و به همین صورت عمل می کند. Entity Framework به طور ضمنی شامل آنها می شود زیرا موجودیت `Student` به موجودیت `Enrollment` و موجودیت `Enrollment` به موجودیت `Course` ارجاع می دهد.


## مشخص کردن کانکشن استرینگ

نام کانکشن استرینگ (که بعداً به فایل Web.config اضافه خواهید کرد) به سازنده ارسال می شود.


```C#
public SchoolContext() : base("SchoolContext")
{
}
```

همچنین می توانید به جای نام رشته ای که در فایل Web.config ذخیره شده است، خود رشته اتصال را ارسال کنید. برای اطلاعات بیشتر در مورد گزینه‌های تعیین پایگاه داده برای استفاده، به [Connection strings and models](https://learn.microsoft.com/en-us/ef/ef6/fundamentals/configuring/connection-strings) مراجعه کنید.

اگر یک رشته اتصال یا نام یکی را به صراحت مشخص نکنید، Entity Framework فرض می کند که نام رشته اتصال با نام کلاس یکسان است. سپس نام رشته اتصال پیش‌فرض در این مثال `SchoolContext` خواهد بود، همان چیزی که شما به صراحت مشخص می‌کنید.


## مشخص کردن اینکه نام جداول مفرد باشند

دستور `modelBuilder.Conventions.Remove` در متد `OnModelCreating` از جمع بستن نام جداول جلوگیری می کند(pluralized). اگر این کار را انجام نمی‌دادید، جداول ایجاد شده در پایگاه داده به نام‌های `Students،` `Courses` و `Enrollments` خواهند بود. در عوض، نام جدول `Student،` `Course` و `Enrollment` خواهد بود. توسعه دهندگان در مورد اینکه آیا نام جدول باید جمع بسته شود یا خیر، اختلاف نظر دارند. این آموزش از فرم مفرد استفاده می کند، اما نکته مهم این است که می توانید با درج یا حذف این خط کد، هر فرمی را که ترجیح می دهید انتخاب کنید.


##  مقداردهی DB  با دیتاهای آزمایشی

## تنظیم EF 6 برای استفاده از LocalDB

## ایجاد controller و views

## مشاهده دیتابیس

## کنوانسیون ها

مقدار کدی که باید بنویسید تا Entity Framework بتواند یک پایگاه داده کامل برای شما ایجاد کند، به دلیل قراردادها یا فرضیاتی که Entity Framework ایجاد می کند، حداقل است. برخی از آنها قبلاً یادداشت شده اند یا بدون اینکه شما از آنها مطلع باشید استفاده شده اند:

- فرم های pluralized نام کلاس های موجودیت به عنوان نام جدول استفاده می شود.
- نام ویژگی های موجودیت برای نام ستون ها استفاده می شود.
- ویژگی های موجودیتی که ID یا شناسه کلاس نام دارند به عنوان ویژگی های کلید اصلی شناخته می شوند.
- یک ویژگی به عنوان یک ویژگی کلید خارجی تفسیر می شود اگر نام آن <navigation property name><primary key key> باشد (برای مثال StudentID برای ویژگی Student navigation زیرا کلید اصلی موجودیت Student ID است). ویژگی‌های کلید خارجی را می‌توان به سادگی <primary key property name> نامید (برای مثال EnrollmentID زیرا کلید اصلی موجودیت Enrollment EnrollmentID است).

شما دیده اید که می توان قراردادها را نادیده گرفت. به عنوان مثال، شما مشخص کرده اید که نام جدول نباید pluralized باشد، و بعداً خواهید دید که چگونه یک ویژگی را به صراحت به عنوان ویژگی کلید خارجی علامت گذاری کنید.

**Source:**

[Tutorial: Get Started with Entity Framework 6 Code First using MVC 5](https://learn.microsoft.com/en-us/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application#install-entity-framework-6)